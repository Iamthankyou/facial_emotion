{"map":{"version":3,"sources":["static/js/main.605c0c84.chunk.js"],"names":["this","push","23","module","exports","__webpack_require__","26","p","29","34","40","41","42","44","45","46","47","48","49","53","__webpack_exports__","r","faceApi_result","react","react_default","n","react_dom","react_dom_default","slicedToArray","regenerator","regenerator_default","asyncToGenerator","es6","jimp","jimp_default","tf_esm","detectFaces","_ref","Object","a","mark","_callee","image","imgSize","displaySize","faces","wrap","_context","prev","next","abrupt","getBoundingClientRect","width","height","inputSize","sent","stop","_x","apply","arguments","drawResults","_ref2","_callee2","canvas","results","type","tocrop","facecanvas","model","resizedDetections","box","drawOptions","_context2","getContext","clearRect","lineWidth","DrawBox","draw","read","then","crop","x","y","resize","bitmap","data","mean","expandDims","div","reshape","output","predict","dataSync","_x2","_x3","_x4","_x5","_x6","_x7","_x8","loading","loading_default","react_webcam","react_webcam_default","Camera","props","aspectRatio","window","innerWidth","innerHeight","createElement","className","style","screenshotFormat","audio","ref","camera","cameraCanvas","react_switch","react_switch_default","index_es","fontawesome_svg_core_index_es","free_solid_svg_icons_index_es","MODEL_URL","concat","Promise","all","tinyFaceDetector","loadFromUri","console","log","faceApi_loadModels","add","src_App","loadmodel","setisDownloadingModel","getResults","clearOverlay","current","ticking","setInterval","getFaces","clearInterval","src","expressions","max","index","video","getScreenshot","undefined","reduce","b","Math","indexOf","setoutput","setResult","reCapture","setvideo","_ref3","_callee3","_context3","t0","save","warn","setmodelLoaded","_useState","_useState2","_useState3","_useState4","isDownloadingModel","_useState5","_useState6","_useState7","_useState8","_useState9","_useState10","expression","setexpression","_useState11","_useState12","setcurrent","_useState13","_useState14","_useState15","_useState16","mode","setMode","textAlign","marginTop","color","marginLeft","fontSize","href","onChange","uncheckedIcon","icon","checkedIcon","checked","offColor","onColor","align","id","display","onClick","getExpression","Boolean","location","hostname","match","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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"},"code":"(this[\"webpackJsonpcamera-test\"]=this[\"webpackJsonpcamera-test\"]||[]).push([[0],{23:function(e,t,n){},26:function(e,t,n){e.exports=n.p+\"static/media/loading.5ce78eb5.gif\"},29:function(e,t,n){e.exports=n(53)},34:function(e,t,n){},40:function(e,t){},41:function(e,t){},42:function(e,t){},44:function(e,t){},45:function(e,t){},46:function(e,t){},47:function(e,t){},48:function(e,t){},49:function(e,t){},53:function(e,t,n){\"use strict\";n.r(t);var a,r=n(2),c=n.n(r),i=n(24),o=n.n(i),s=(n(34),n(7)),l=n(5),u=n.n(l),d=n(9),m=(n(23),n(8)),h=n(25),f=n.n(h),p=n(10),b=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt(\"return\");case 2:if(n=t.getBoundingClientRect(),0!==(a={width:n.width,height:n.height}).height){e.next=6;break}return e.abrupt(\"return\");case 6:return e.next=8,m.b(t,new m.a({inputSize:320}));case 8:return r=e.sent,e.abrupt(\"return\",m.f(r,a));case 10:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(d.a)(u.a.mark((function e(t,n,r,c,i,o,s){var l,d,h,b,v;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&n&&r)){e.next=9;break}if(l=t.getBoundingClientRect(),d={width:l.width,height:l.height},m.d(n,d),n.getContext(\"2d\").clearRect(0,0,n.width,n.height),0===d.width){e.next=9;break}return(h=m.f(r,d))[0]&&(b=h[0].box,v={lineWidth:2},new m.c.DrawBox(b,v).draw(n),f.a.read(i).then((function(e){e.crop(h[0].box.x,h[0].box.y,h[0].box.width,h[0].box.height),e.resize(48,48),e=e.bitmap.data,e=(e=(e=(e=(e=p.b(e,[48,48,4])).mean(2)).expandDims(2)).div(255)).reshape([1,48,48,1]);var t=s.predict(e);t=t.dataSync(),a=t}))),e.abrupt(\"return\",a);case 9:case\"end\":return e.stop()}}),e)})));return function(t,n,a,r,c,i,o){return e.apply(this,arguments)}}(),w=n(26),g=n.n(w),x=n(27),E=n.n(x);var y=function(e){var t=window.innerWidth/window.innerHeight;return c.a.createElement(\"div\",{className:\"camera__wrapper\",style:{width:t>1?\"80%\":\"33vh\"}},c.a.createElement(E.a,{screenshotFormat:\"image/jpeg\",audio:!1,ref:e.camera,width:\"100%\",height:\"auto\",className:\"camera\"}),c.a.createElement(\"canvas\",{className:\"webcam-overlay\",ref:e.cameraCanvas}))},k=n(28),j=n.n(k),O=n(21),N=n(11),S=n(4);!function(){var e=\"\".concat(\"\",\"/models\");Promise.all([m.e.tinyFaceDetector.loadFromUri(e)]).then((function(){console.log(\"loaded\")}))}(),N.b.add(S.m,S.b,S.j,S.a,S.f,S.d,S.e,S.h,S.i,S.k,S.g,S.c,S.l);var C=function(){Object(r.useEffect)((function(){l().then((function(){C(!1),t()}))}),[]);var e=function(e){e.current.getContext(\"2d\").clearRect(0,0,e.width,e.height)},t=function(){if(null!==m){var t=setInterval(Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:case\"end\":return e.stop()}}),e)}))),200);return function(){e(h),clearInterval(t)}}return e(h)},n=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,r,c,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===m.current){e.next=11;break}return e.next=3,b(m.current.video);case 3:return t=e.sent,n=m.current.getScreenshot(),e.next=7,v(m.current.video,h.current,t,\"boxLandmarks\",n,f,a);case 7:r=e.sent,c=[\"angry\",\"disgusted\",\"afraid\",\"happy\",\"sad\",\"surprised\",\"neutral\"],void 0!==r&&(i=r.reduce((function(e,t){return Math.max(e,t)})),o=r.indexOf(i),_(c[o])),E(t);case 11:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=null,i=window.innerWidth/window.innerHeight,o=function(){G(!0)},l=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(window.innerWidth,\"innnnnnnner\"),!(\"indexedDB\"in window)){e.next=17;break}return e.prev=2,e.next=5,p.a(\"indexeddb://web-model\");case 5:a=e.sent,e.next=15;break;case 8:return e.prev=8,e.t0=e.catch(2),console.log(e.t0),e.next=13,p.a(\"./jsmodel/model.json\");case 13:(a=e.sent).save(\"indexeddb://web-model\");case 15:e.next=21;break;case 17:return console.warn(\"IndexedDB not supported.\"),e.next=20,p.a(\"./jsmodel/model.json\");case 20:a=e.sent;case 21:I(!0),console.log(\"model loaded\");case 23:case\"end\":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}(),m=Object(r.useRef)(),h=Object(r.useRef)(),f=Object(r.useRef)(),w=Object(r.useState)([]),x=Object(s.a)(w,2),E=(x[0],x[1]),k=Object(r.useState)(!0),N=Object(s.a)(k,2),S=N[0],C=N[1],D=Object(r.useState)(!1),W=Object(s.a)(D,2),I=(W[0],W[1]),B=Object(r.useState)(\"\"),R=Object(s.a)(B,2),L=R[0],_=R[1],F=Object(r.useState)(\"\"),T=Object(s.a)(F,2),z=T[0],A=T[1],M=Object(r.useState)(null),U=Object(s.a)(M,2),H=U[0],J=U[1],P=Object(r.useState)(!0),$=Object(s.a)(P,2),q=$[0],G=$[1],K=Object(r.useState)(!1),Q=Object(s.a)(K,2),V=Q[0],X=Q[1];return c.a.createElement(\"div\",null,S&&c.a.createElement(\"div\",{style:{textAlign:\"center\",marginTop:\"30vh\"}},c.a.createElement(\"img\",{src:g.a}),c.a.createElement(\"h2\",{style:{color:\"#007c6c\"}},\"Downloading Model\")),!S&&c.a.createElement(\"div\",null,c.a.createElement(\"div\",{className:\"titleDiv\"},c.a.createElement(\"div\",{style:{marginLeft:\"10px\",marginTop:\"1vh\"}},c.a.createElement(\"h4\",{style:{fontSize:\"4vh\"}},\"Facial Emotion Detector\"),c.a.createElement(\"a\",{className:\"nostyle\",href:\"https://github.com/amilkh/cs230-fer\"},\"Deep learning model\"),c.a.createElement(\"p\",{className:\"nostyle\"},\"\\xa0by\\xa0\"),c.a.createElement(\"a\",{className:\"nostyle\",href:\"https://cs230.stanford.edu/\"},\"Stanford University\"),c.a.createElement(\"br\",null),c.a.createElement(\"a\",{className:\"nostyle\",href:\"https://github.com/amilkh/cs230-fer/tree/master/webapp\"},\"Web app\"),c.a.createElement(\"p\",{className:\"nostyle\"},\"\\xa0by\\xa0\"),c.a.createElement(\"a\",{className:\"nostyle\",href:\"https://se.neduet.edu.pk/\"},\"NED University\"),c.a.createElement(\"div\",{style:{marginLeft:i>1?\"92vw\":\"80vw\"}},c.a.createElement(j.a,{onChange:function(){X(!V),o()},uncheckedIcon:c.a.createElement(O.a,{style:{marginLeft:\"8px\",marginTop:\"5px\"},icon:\"video\"}),checkedIcon:c.a.createElement(O.a,{style:{marginLeft:\"10px\",marginTop:\"5px\"},icon:\"camera\"}),checked:!V,className:\"App__switcher-switch\",offColor:\"#b3f5e5\",onColor:\"#b3f5e5\",width:60})))),c.a.createElement(\"div\",{className:\"camera\",align:\"center\"},c.a.createElement(\"div\",{id:\"cam_input\"},c.a.createElement(\"div\",{style:{display:q?\"block\":\"none\"}},c.a.createElement(y,{camera:m,cameraCanvas:h})),!q&&c.a.createElement(\"img\",{className:\"camera\",src:H})),!V&&c.a.createElement(\"div\",null,q&&c.a.createElement(\"button\",{style:{width:i>1?window.innerWidth/100*80:\"33vh\"},className:\"detect\",onClick:function(){return function(){if(A(L),m)var e=m.current.getScreenshot();G(!1),J(e)}()}},\"Detect My Emotion\"),!q&&c.a.createElement(\"button\",{style:{width:i>1?window.innerWidth/100*80:\"33vh\"},className:\"detect\",onClick:function(){return o()}},\"Capture Again\"))),c.a.createElement(\"div\",{className:\"footer\"},V&&\"\"!==L&&c.a.createElement(\"h3\",null,\"I think you look \",L,\".\"),!V&&\"\"!==z&&c.a.createElement(\"h3\",null,\"I think you look \",z,\".\"))))};Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(C,null),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[29,1,2]]]);","extractedComments":[]}